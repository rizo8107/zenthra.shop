        {/* Custom Scripts Configuration */}
        {selected === 'custom_scripts' && (
          <Card>
            <CardHeader className="flex flex-row items-center justify-between">
              <CardTitle>Custom Scripts</CardTitle>
              <div className="flex items-center gap-2">
                <Label className="text-sm">Enabled</Label>
                <Switch
                  checked={enabled.custom_scripts}
                  onCheckedChange={(v) => onToggle("custom_scripts", v)}
                />
              </div>
            </CardHeader>
            <CardContent className="space-y-4">
              {customScriptsConfig && (
                <>
                  <div className="bg-blue-50 border border-blue-200 rounded-md p-4 text-sm">
                    <p className="font-medium mb-2">üìù Add Custom Scripts to Your Site</p>
                    <p className="text-muted-foreground">
                      Add third-party tracking codes, widgets, or any custom JavaScript/HTML. 
                      Scripts can be injected in &lt;head&gt;, body start, or body end.
                    </p>
                  </div>

                  {/* List of scripts */}
                  {customScriptsConfig.scripts && customScriptsConfig.scripts.length > 0 && (
                    <div className="space-y-4">
                      {customScriptsConfig.scripts.map((script, index) => (
                        <Card key={script.id} className="border">
                          <CardContent className="p-4 space-y-4">
                            <div className="flex items-center justify-between">
                              <div className="flex items-center gap-4">
                                <Switch
                                  checked={script.enabled}
                                  onCheckedChange={(v) => {
                                    const updated = [...customScriptsConfig.scripts];
                                    updated[index] = { ...script, enabled: v };
                                    setCustomScriptsConfig({ ...customScriptsConfig, scripts: updated });
                                  }}
                                />
                                <div>
                                  <p className="font-medium">{script.name || `Script ${index + 1}`}</p>
                                  <p className="text-xs text-muted-foreground">
                                    Location: {script.location === 'head' ? '<head>' : script.location === 'body_start' ? '<body> start' : '<body> end'}
                                  </p>
                                </div>
                              </div>
                              <Button
                                type="button"
                                variant="destructive"
                                size="sm"
                                onClick={() => {
                                  const updated = customScriptsConfig.scripts.filter((_, i) => i !== index);
                                  setCustomScriptsConfig({ ...customScriptsConfig, scripts: updated });
                                }}
                              >
                                Delete
                              </Button>
                            </div>

                            <div className="grid gap-2">
                              <Label htmlFor={`script-name-${index}`}>Script Name</Label>
                              <Input
                                id={`script-name-${index}`}
                                value={script.name}
                                onChange={(e) => {
                                  const updated = [...customScriptsConfig.scripts];
                                  updated[index] = { ...script, name: e.target.value };
                                  setCustomScriptsConfig({ ...customScriptsConfig, scripts: updated });
                                }}
                                placeholder="e.g., Google Ads, Hotjar, etc."
                              />
                            </div>

                            <div className="grid gap-2">
                              <Label htmlFor={`script-location-${index}`}>Inject Location</Label>
                              <select
                                id={`script-location-${index}`}
                                value={script.location}
                                onChange={(e) => {
                                  const updated = [...customScriptsConfig.scripts];
                                  updated[index] = { ...script, location: e.target.value as 'head' | 'body_start' | 'body_end' };
                                  setCustomScriptsConfig({ ...customScriptsConfig, scripts: updated });
                                }}
                                className="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"
                              >
                                <option value="head">&lt;head&gt; - Top of page</option>
                                <option value="body_start">&lt;body&gt; start - After opening body tag</option>
                                <option value="body_end">&lt;body&gt; end - Before closing body tag</option>
                              </select>
                            </div>

                            <div className="grid gap-2">
                              <Label htmlFor={`script-content-${index}`}>Script Content</Label>
                              <Textarea
                                id={`script-content-${index}`}
                                value={script.script}
                                onChange={(e) => {
                                  const updated = [...customScriptsConfig.scripts];
                                  updated[index] = { ...script, script: e.target.value };
                                  setCustomScriptsConfig({ ...customScriptsConfig, scripts: updated });
                                }}
                                placeholder="<script>console.log('Hello');</script> or just JavaScript code"
                                rows={6}
                                className="font-mono text-xs"
                              />
                              <p className="text-xs text-muted-foreground">
                                Paste the script tag or raw JavaScript code here
                              </p>
                            </div>
                          </CardContent>
                        </Card>
                      ))}
                    </div>
                  )}

                  {/* Add new script button */}
                  <Button
                    type="button"
                    variant="outline"
                    onClick={() => {
                      const newScript: CustomScript = {
                        id: `script-${Date.now()}`,
                        name: '',
                        script: '',
                        location: 'body_end',
                        enabled: true,
                      };
                      setCustomScriptsConfig({
                        ...customScriptsConfig,
                        scripts: [...(customScriptsConfig.scripts || []), newScript],
                      });
                    }}
                  >
                    + Add New Script
                  </Button>

                  <div className="flex gap-2">
                    <Button onClick={() => onSave("custom_scripts")} disabled={saving}>
                      {saving ? "Saving..." : "Save Configuration"}
                    </Button>
                    <Button variant="outline" onClick={() => resetToDefault("custom_scripts")}>
                      Reset to Default
                    </Button>
                  </div>
                </>
              )}
            </CardContent>
          </Card>
        )}
